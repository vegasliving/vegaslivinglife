{% extends 'home/base.html' %}
{% load leaflet_tags static %}
{% load staticfiles %}
{% block extra_head %}
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.3/dist/leaflet.css"
  integrity="sha512-07I2e+7D8p6he1SIM+1twR5TIrhUQn9+I6yjqD53JQjFiMf8EtC93ty0/5vJTZGF8aAocvHYNEDJajGdNx1IsQ=="
  crossorigin=""/>
  
  <script src="https://unpkg.com/leaflet@1.0.3/dist/leaflet.js"
  integrity="sha512-A7vV8IFfih/D732iSSKi20u/ooOfj/AGehOKq0f4vLT1Zr2Y+RX7C+w8A1gaSasGtRUZpF/NZgzSAu4/Gc41Lg=="
  crossorigin=""></script>
    <script src='https://api.mapbox.com/mapbox.js/v3.1.0/mapbox.js'></script>
    <link href='https://api.mapbox.com/mapbox.js/v3.1.0/mapbox.css' rel='stylesheet' />
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-ajax/2.1.0/leaflet.ajax.min.js"></script>
    <style type="text/css">
      #map { position:fixed; top:0; bottom:0; width:100%; }
    </style>
{% endblock %}
{% block nav-bar %}
<div class="mdl-layout__tab-bar mdl-js-ripple-effect" style="background-color: white">
      <a href="/" class="mdl-layout__tab ">For You</a>
      <a href="/stories/" class="mdl-layout__tab ">Stories</a>
      <a href="/homes/" class="mdl-layout__tab is-active">Homes</a>
      <a href="/places/" class="mdl-layout__tab ">Places</a>
</div>
{% endblock %}
{% block homes %}
<main class="mdl-layout__content" style="overflow: hidden;">
  <section class="mdl-layout__tab-panel is-active" style="padding-top: 0px; overflow: hidden;">
      <div class="page-content">
        <div class="mdl-grid">
          <div class="mdl-cell mdl-cell--7-col-desktop" style="overflow: scroll; height: 120%; padding-bottom: 20px">
                <h3>Las Vegas Real Estate</h3>
                <div class="mdl-grid">
                {% for article in articles %}
                <div class="mdl-card mdl-shadow--2dp mdl-cell mdl-cell--6-col-desktop" style="margin-right: 5px;">
                  <div class="mdl-card__image">
                      <img src="{{baseURL}}thumbnails/full/{{article.thumbnail}}" width="100%" height="25%">
                  </div>
                  <div class="mdl-grid">
                      <div class="mdl-cell--7-col ">
                          <div class="house-address">{{article.title}}</div>
                      </div>
                      <div class="mdl-cell--5-col">
                          <div class="house-price">{{article.description}}</div>
                      </div>
                  </div>
                  <div class="mdl-grid">
                      <div class="mdl-button mdl-button--colored">
                          <i class="fa fa-bed" aria-hidden="true"></i>
                          <span>3</span> Beds
                      </div>
                      <div class="mdl-button mdl-button--colored">
                          <i class="fa fa-bath" aria-hidden="true"></i> 
                          <span>3</span> Baths
                      </div>
                      <div class="mdl-button mdl-button--colored">
                          <span>3000</span> Sqft
                      </div>
                  </div>
                  <div class="mdl-card__actions mdl-card--border">
                  <a href="#image1">
                      <button id="show-dialog" type="button" class="mdl-button">Contact Agent</button>
                  </a>
                  </div>
                </div>
                {% endfor %}
                </div>
          </div>
          <div class="mdl-cell mdl-cell--5-col-desktop right-panel" style="overflow: hidden;">
              <img src="{% static 'randomActivities.jpg' %}">
              {% leaflet_map "map" %}
              <script>
              L.mapbox.accessToken = 'pk.eyJ1IjoiaG9hbmdkb3YiLCJhIjoiY2oyMTR0YzgzMDAxYzMzbmVwcXd5YWQ3eSJ9.pXm0x-xFSQMPLz0HZ2Zv2A';
              var map = L.mapbox.map('map', 'mapbox.streets')
                  .setView([36.26, -114.88], 11);
              var geojsonLayer = new L.GeoJSON.AJAX("{% static 'data.geojson' %}");  
              L.marker([50.5, 30.5]).addTo(map);   
              geojsonLayer.addTo(map);
              </script>
          </div>
        </div>
      </div>
    </section>
  </main>
  {% endblock %}