{% extends 'home/base.html' %}

{% block homes %}
  <section class="mdl-layout__tab-panel is-active" id="scroll-tab-3" style="padding-top: 0px">
      <div class="page-content">
        <div class="mdl-grid">
          <div class="mdl-cell mdl-cell--6-col">
                <h3>Las Vegas Real Estate</h3>
                <div class="mdl-grid">
                    {% for article in articles %}
                <div class="mdl-card mdl-shadow--2dp mdl-cell mdl-cell--6-col-desktop" style="margin-right: 5px">
                    <div class="mdl-card__image">
                        <img src="{{baseURL}}thumbnails/full/{{article.thumbnail}}" width="100%" height="25%">
                    </div>
                    <div class="mdl-grid">
                        <div class="mdl-cell--7-col ">
                            <div class="house-address">{{article.title}}</div>
                        </div>
                        <div class="mdl-cell--5-col">
                            <div class="house-price">{{article.description}}</div>
                        </div>
                    </div>
                    <div class="mdl-grid">
                        <div class="mdl-button mdl-button--colored">
                            <i class="fa fa-bed" aria-hidden="true"></i>
                            <span>3</span> Beds
                        </div>
                        <div class="mdl-button mdl-button--colored">
                            <i class="fa fa-bath" aria-hidden="true"></i> 3 Baths
                        </div>
                        <div class="mdl-button mdl-button--colored">
                            3000 sqft
                        </div>
                    </div>
                    <div class="mdl-card__actions mdl-card--border">
                    <a href="#image1">
                        <button id="show-dialog" type="button" class="mdl-button">Contact Agent</button>
                    </a>
                    </div>
                </div>
                {% endfor %}
                </div>
          </div>
          <div class="mdl-cell mdl-cell--6-col" style="margin-top: 0px">
              <div id="map" style="height: 100%"></div>
              <script>
                  function initMap() {
                    var map = new google.maps.Map(document.getElementById('map'), {
                      center: {lat: 36.085087, lng: -115.150482},
                      zoom: 12
                    });
                    var drawingManager = new google.maps.drawing.DrawingManager({
                      drawingControl: true,
                      drawingControlOptions: {
                        position: google.maps.ControlPosition.TOP_CENTER,
                        drawingModes: ['circle']
                      },
                    });
                    drawingManager.setMap(map);
                    map.event.addListener(drawingManager, 'overlaycomplete', function(polygon){
                        var coordinatesArray = polygon.overlay.getPath().getArray();
                    })
                    google.maps.event.addListener(drawingManager, 'overlaycomplete', function(polygon) { 
                        var coordinatesArray = polygon.overlay.getPath().getArray();
                    });   
                  }
                  document.getElementById("drawingStats").innerHTML = coordinatesArray;
                </script>
                <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCTLthxG3Gaj12OcGK_EYU6bXXUSqDvcyg&libraries=drawing&callback=initMap" async defer>     
                </script>
                
          </div>
      </div>
      </div>
    </section>
  {% endblock %}